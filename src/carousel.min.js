"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _classCallCheck(t,e){if(!_instanceof(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var TilCarousel=function(){function t(e){_classCallCheck(this,t);try{this.container=document.getElementById(e),this.wrapper=this.container.children[0],this.items=[].slice.call(this.wrapper.children),this.count=this.items.length,this.container.width=this.container.offsetWidth,this.current=0,this.threshold=this.container.width/5,this.resizeHandler=this.resizeHandler.bind(this),this.touchstartHandler=this.touchstartHandler.bind(this),this.touchendHandler=this.touchendHandler.bind(this),this.touchmoveHandler=this.touchmoveHandler.bind(this),this.init()}catch(t){console.log("There is a problem with the structure or the "+e+" could not be found")}}return _createClass(t,[{key:"init",value:function(){this.attachEvents(),this.container.style.overflow="hidden",this.buildFrame(),this.transformProperty="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform",this.container.style.visibility="visible"}},{key:"buildFrame",value:function(){this.wrapper.style.width=this.count*this.container.width+"px",this.slide(!1)}},{key:"attachEvents",value:function(){this.pressing=!1,this.drag={startX:0,endX:0},window.addEventListener("resize",this.resizeHandler),this.container.addEventListener("touchstart",this.touchstartHandler),this.container.addEventListener("touchend",this.touchendHandler),this.container.addEventListener("touchmove",this.touchmoveHandler)}},{key:"resizeHandler",value:function(){this.container.width=this.container.offsetWidth,this.threshold=this.container.width/5,this.buildFrame()}},{key:"touchstartHandler",value:function(t){t.stopPropagation(),this.touching=!0,this.animate(0),this.drag.startX=t.touches[0].pageX}},{key:"touchendHandler",value:function(t){t.stopPropagation(),this.touching=!1;var e=this.drag.endX?this.drag.endX-this.drag.startX:0;e>this.threshold?this.prev():e<-this.threshold?this.next():this.slide(),this.drag={startX:0,endX:0}}},{key:"touchmoveHandler",value:function(t){var e,i;t.stopPropagation(),this.touching&&(t.preventDefault(),this.drag.endX=t.touches[0].pageX,e=this.current*this.container.width,i=this.drag.endX-this.drag.startX,this.transform(i-e))}},{key:"slide",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t,i=this.container.width*this.current*-1;this.transform(i),this.animate(e?200:0)}},{key:"goTo",value:function(t){-1<t&&t<this.count&&(this.current=t,this.slide())}},{key:"prev",value:function(){0<this.current&&this.current--,this.slide()}},{key:"next",value:function(){this.current<this.count-1&&this.current++,this.slide()}},{key:"transform",value:function(t){this.wrapper.style[this.transformProperty]="translate3d("+t+"px, 0, 0)"}},{key:"animate",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;this.wrapper.style.transition="transform "+e+"ms ease-out",this.wrapper.style.webkitTransition="transform "+e+"ms ease-out"}}]),t}();
